{
  "$schema": "https://railway.app/railway.schema.json",
  "build": {
    "builder": "NIXPACKS",
    "buildCommand": "cp standalone_settings.py /app/ && cp startup.py /app/"
  },
  "deploy": {
    "startCommand": "cd /app && PYTHONPATH=/app python manage.py collectstatic --noinput --settings=standalone_settings && python manage.py migrate --settings=standalone_settings && python manage.py createsuperuser --noinput --username admin --email admin@example.com --settings=standalone_settings || true && gunicorn --pythonpath /app startup:application --bind 0.0.0.0:8000",
    "healthcheckPath": "/",
    "healthcheckTimeout": 300,
    "restartPolicyType": "ON_FAILURE",
    "restartPolicyMaxRetries": 10
  },
  "variables": {
    "DJANGO_SETTINGS_MODULE": "standalone_settings",
    "PYTHONPATH": "/app",
    "DATABASE_URL": "postgresql://postgres:mmejgrkDAGJFBxRmDJkszJkkbhtGUPVv@shuttle.proxy.rlwy.net:21529/railway",
    "DJANGO_SUPERUSER_PASSWORD": "admin",
    "CORS_ALLOWED_ORIGINS": "http://localhost:3000,https://linkly-frontend.up.railway.app,https://linkly-production.up.railway.app,https://linkly-gd.web.app,https://linkly-gd.firebaseapp.com"
  }
} 